<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Révision bases Javascript</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,200;0,400;0,700;1,200&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="Images/logoJs.svg" type="image/x-icon">
    <!--<scrip defer src="scripts/main.js"></script> defer indique au navigateur de charger le script en arrière plan tout en continuant à analyser le reste de la page. Il sera exécuté une fois que tout le contenu HTML est chargé. Poss. "async" alors en parallèle -->
</head>
<body>
    <h1>Les bases de Javascript</h1>
    <img src="Images/javascript.png" alt="logo Javascript">
    <p>JS est un langage de programmation qui ajoute de l'interactivité à votre site web 
       (par exemple: jeux, réponses quand on cilque sur un bouton ou 
       des données entrées dans des formulaires, composition dynamique, animations).
    </p>
    <h2>Qu'est ce que le Javascript, réellement?</h2>
    <p>
        Le JS est un langage de programmation dynamique complet qui, appliqué à un document HTML, 
        peut fournir une interactivité dynamique sur des sites web. 
        Il a été inventé par Brendan Eich, co-fondateur du projet Mozilla, etc,...
    </p>
    <p>
        Le JS est d'une incroyable flexibilité. Vous pouvez commencer petit, avec des carrousels, 
        des galeries d'images, des variations de mise en page et des réponses aux clics de boutons. 
        Avec plus d'expérience, vous serez en mesure de créer des jeux, des graphique 2D et 3D animé, 
        des applications complètes fondées sur des bases de données et bien plus encore!
    </p>
    <p>
        JS est plutôt compact tout en étant très souple. Les développeurs ont écrit de nombreux outils 
        sur le coeur du langage JS, créant des fonctionalités supplémentaires très simplement. 
        Parmi ces outils, il y a :
    </p>
    <ul>
        <li>
            des interfaces de Programmation d'Applications pour les navigateur (API) - API intégrées aux 
            navigateurs web permettent de créer dynamiquement du HTML, de définir des styles de CSS, 
            de collecter et manipuler un flux vidéo depuis la webcam de l'utilisateur ou de créer des graphiques 3D 
            et des échantillons audio.
        </li>
        <li>
            des API tierces-parties permettant aux développeurs d'incorporer dans leurs sites des fonctionalités 
            issues d'autres fournisseurs de contenu, comme Twitter ou Facebook.
        </li>
        <li>
            des modèles et des bibliothèque tierces-parties applicable à votre HTML permettant de 
            mettre en oeuvre rapidement des sites et des applications.
        </li>
    </ul>
    <p>Ci-dessous nous allons vous présenter quelques aspects du coeur du langage, 
        et vous pratiquerez aussi en manipulant les fonctionalités des API navigateur. 
        Amusez-vous bien !
    </p>
    <h2> Un exemple " hello wordl "</h2>
    <p>
        Pour commencer, nous allons vous montrer comment ajouter un JS basique à votre page, 
        en créant un exemple " Hello world !" (la norme en matière d'exemples de programmation de base).
    </p>
    <ol>
        <li>Tout d'abord, allez sur votre site de test et créez un nouveau dossier nommé "scripts" (sans les guillemts). Ensuite, dans le nousveau dossier <b>scripts</b> que vous venez de créer, créez un nouveau fichier appelé main.js. Sauvegardez-le dans votre dossier scripts.</li>
        <li>
            Ensuite, dans votre fichier <b>index.html</b>, ajoutez l'élément suivant sur une nouvelle ligne avant la balise fermante <b>body</b>: 
            &lt;script src="scripts/main.js"&gt;&lt;/script&gt; <!-- nous utilisons '&lt;' pour rprésenter le caractère '<' et '&gt;' pour représenter le caractère '>'. De cette manière, le code <script ......script> est affiché sans être interprété par le navigateur en tant que balise html, mais simplement comme du texte brut dans la liste à puces-->
        </li>
        <li>
            Cet élément a le même rôle que l'élément &lt;<u>link</u>&gt; pour le CSS - il applique le code JavaScript à la page, 
            de sorte qu'il puisse avoir de l'effet sur le HTML (en même temps que le CSS et autre sur la page).
        </li>
        <li>
            Maintenant ajoutez le code suivant dans <b>main.js</b>:<br>
            let myHeading = document.querrySelector("h1");<br>
            myHeading.textContent = "Bonjour le monde !";
        </li>
        <li>Assurez-vous que les fichiers HTML et JavaScript soient en registrés puis chargez <b>index.html</b> dans votre navigateur. Vous devriez obtenir quelque chose comme:</li>
    </ol>
    <img src="Images/BonjourLeMonde.jpg" alt="Bonjour le monde en JS">
    <p class="note">
        <b>Note</b>: La raison pour laquelle nous avons placé l'élément &lt;script&gt; en bas du fichier HTML est que le HTML est chargé par le navigateur dans l'ordre dans lequel il apparaît dans le fichier. 
        Si le JavaScript est chargé en premier et qu'il est supposé affecter le HTML en dessous, il pourrait ne pas fonctionner, car le JavaScript serait chargé avant le HTML sur lequel il est supposé travailler. 
        Par conséquent, placer JavaScript près du bas de la page HTML est souvent la meilleure stratégie.
    </p>
    <h2>Que s'est-il passé ?</h2>
    <p>
        Le texte du titre a été changé en "Bonjour le monde !" en utilisant le JavaSctipt. Pour cela, on a utilisé une fonction appellée <u><b>querrySelector()</b></u> 
        pour obtenir une référence sur l'entête et la stocker dans une variable appelée <b>myHeading</b>. 
        C'est assez proche de ce qu'on fait avec les selecteurs CSS. Lorsqu'on souhaite manipuler un élément, il faut d'abord le sélectionner.
    </p>
    <p>
        Ensuite, nous fixons à " Bonjour le monde !" la valeur de la propriété <u><b>textContent</b></u> de la variable <b>myHeading</b> (elle représente le contenu du titre).
    </p>
    <p class="note">
        <b>Note</b>; Les deux fonction que vous avez utilisées ci-dessus font partie de l'API Document Object Model (DOM), qui vous permet de manipuler les documents.
    </p>
    <h2>Les bases du JavaScript en accéléré</h2>
    <p>
        Nous allons explorer les fonctionnalité de base de JavaScript pour que vous puissiez mieux comprendre comment il fonctionne. 
        Ces fonctionalités sont commune à la plupart des langages de programmation, si vous comprennez ces éléments en JS, 
        vous êtes en bonne voie de pouvoir programmer à peu près n'importe quoi !
    </p>
    <p class="attention">
        <u>Attention</u>: Tout au long de cette article, vous pouvez saisir les ligne de code dans votre console JS pour voir ce qui se passse. Pour plus de détails sur les console JS, 
        vous pouvez lire <u><b>Découvrir les outils de développement présent dans le navigateur ! A FAIRE !</b></u>.
    </p>
    <h2>Les variables</h2>
    <p>
        Les <u><b>variables</b></u> sont des conteneurs dans lesquels on peut stocker des valeurs. Pour commencer, il faut déclarer une variable avec le mot-clé 
        <b>let</b> en le faisant suivre de son nom:<br>
        Let myVariable;
    </p>
    <p class="note">
        <b>Note</b>: Un point-virgule en fin de ligne indique là où se termine l'instruction ; ce n'est impérativement requis que si vous devez séparer des instructions sur une même ligne. 
        Toutefois, certain pense qu'il est de bonne pratique de les mettre à la fin de chaque instruction. 
        Il y a d'autres règle à propos de leur emploi ou non-emploi - voyez <u>Guide des points-virgule en JS</u> pour plus de détails.
    </p>
    <p class="note">
        <b>Note</b>: Vous pouvez utiliser (quasiment) n'importe quel nom pour nommer une variable, mais il y a quelques restricitions (voyez <u>cet article</u>) sur les règles de nommage des variables. 
        Si vous avez un doute, vous pouvez <u>vérifier le nom de votre variable</u> pour voir s'il est valide.
    </p>
    <p class="note">
        <b>Note</b>; JS est sensible à la case - <b>myVariable</b> est une variable différente de <b>myvariable</b>. Si vous avez des problèmes dans votre code, vérifiez la classe !
    </p>
    <p>
        Une fois une variable déclarée, vous pouvez lui donner une valeur:<br>
        myVariable = "Bob";
    </p>
    <p>
        Vous pouvez faire les deux opérations sur une même ligne, si vous le souhaitez :<br>
        let myVariable = "Bob";
    </p>
    <p>
        Vous retrouvez la valeur en appelant simplement la variable par son nom:<br>
        myVariable:
    </p>
    <p>
        Une fois qu'on a donné une valeur à une variable, on peut la changer plus loin:<br>
        let myVariable = "Bob";<br>
        myVariable = "Etienne";
    </p>
    <p>
        Notez que les variables peuvent contenir des <u>types différent de données:</u>
    </p>
    <table class="firstTableau">
        <tr>
            <td><b>Variable</b></td>
            <td><b>Explication</b></td>
            <td><b>Exemple</b></td>
        </tr>
        <tr>
            <td><u><b>Chaîne de caractères</b></u></td>
            <td>Une suite de caractères connue sous le nom de chaîne. Pour indiquer que la valeur est une chaîne, il faut la placer entre guillemets.</td>
            <td>let myVariable = 'Bob';</td>
        </tr>
        <tr>
            <td><u><b>Nombre</b></u></td>
            <td>Un nombre. Les nombres ne sont pas entre guillemets.</td>
            <td>let myVariable = 10;</td>
        </tr>
        <tr>
            <td><u><b>Booléen</b></u></td>
            <td>Une valeur qui signifie vrai ou faux. true/false sont des mots-clés spéciaux en JS, ils n'ont pas besoin de guillemets</td>
            <td>let myVariable = true;</td>
        </tr>
        <tr>
            <td><u><b>Tableau</b></u></td>
            <td>Une structure qui permet de stocker plusieurs valeurs dans une seule variable.</td>
            <td>let myVariable = [1,'Bob','Étienne',10];
                Référez vous à chaque élément du tableau ainsi : myVariable[0], myVariable[1], etc.</td>
        </tr>
        <tr>
            <td><u><b>Objet</b></u></td>
            <td>À la base de toute chose. Tout est un objet en JavaScript et peut être stocké dans une variable. Gardez cela en mémoire tout au long de ce cours.</td>
            <td>let myVariable = document.querySelector('h1'); tous les exemples au dessus sont aussi des objets.</td>
        </tr>
    </table>
    <p>
        Pourquoi a-t-on besoin de variables ? Et bien parce qu'elles sont essentielles à la programmation. Si les valeurs ne pouvaient pas changer, 
        on ne pourrait rien faire de dynamique, comme personnaliser un message de bienvenue ou changer l'image affichée dans une galerie.
    </p>
    <h2>Commentaires</h2>
    <p>
        Il est possible d'intégrer des commentaires dans du code JavaScript, de la même manière que dans les CSS :<br>
        /*Tout ce qui est écrit ici est entre commentaires.*/
    </p>
    <p>
        Si votre commentaire tient sur une ligne, vous pouvez utiliser deux barres obliques pour indiquer un commentaire :<br>
        // Voici un commentaire
    </p>
    <h2>Opérateurs</h2>
    <p>
        Un <u>opérateur</u> est un symbole mathématique qui produit un résultat en fonction de deux valeurs 
        (ou variables). Le tableau suivant liste certains des opérateurs les plus simples ainsi que 
        des exemples que vous pouvez tester dans votre console JavaScript.
    </p>
    <table>
        <tr>
            <td><b>Opérateur</b></td>
            <td><b>Explication</b></td>
            <td><b>Symbole(s)</b></td>
            <td><b>Exemple</b></td>
        </tr>
        <tr>
            <td><b>Addition</b></td>
            <td>Utilisé pour ajouter deux nombres ou concaténer (accoler) deux chaînes.</td>
            <td>+</td>
            <td>6 + 9;<br>"Bonjour " + "monde !";</td>
        </tr>
        <tr>
            <td><b>Soustraction,<br> multiplication,<br> division</b></td>
            <td>Les opérations mathématiques de base.</td>
            <td>-, *, /</td>
            <td>9 - 3;<br>8 * 2; // pour multiplier, on utilise un astérisque<br>9 / 3;</td>
        </tr>
        <tr>
            <td><b>Assignation</b></td>
            <td>On a déjà vu cet opérateur : il affecte une valeur à une variable.</td>
            <td>=</td>
            <td>let myVariable = 'Bob';</td>
        </tr>
        <tr>
            <td><b>Egalité</b></td>
            <td>Teste si deux valeurs sont égales et renvoie un booléen true/false comme résultat.</td>
            <td>===</td>
            <td>let myVariable = 3;<br>myVariable === 4;</td>
        </tr>
        <tr>
            <td><b>Négation,<br> N'égale pas</b></td>
            <td>Renvoie la valeur logique opposée à ce qu'il précède ; il change true en false, etc. Utilisé avec l'opérateur d'égalité, l'opérateur de négation teste que deux valeurs ne sont pas égales.</td>
            <td>!, !==</td>
            <td>
                L'expression de base est vraie, mais la comparaison renvoie false parce que nous la nions :<br>
                let myVariable = 3;<br>
                !(myVariable === 3);<br>
                On teste ici que "myVariable n'est PAS égale à 3". Cela renvoie false, car elle est égale à 3.<br>
                let myVariable = 3;<br>
                myVariable !== 3;<br>
            </td>
        </tr>
    </table>
    <p>
        Il y a nombre d'autres opérateurs à explorer, mais nous nous en tiendrons à ceux-là pour le moment. Voir <u>Expressions et opérateurs</u> pour la liste complète.
    </p>
    <p class="note">
        <b>Note</b>: mélanger les types de données peut conduire à d'étranges résultats lors des opérations, donc prennez soin de vous référer correctement à vos variables et d'obtenir 
        les résultats attendus. Par exemple, entrez "35" + "25" dans votre console. Pourquoi n'obtenez-vous pas le résulata attendu? Parce que les guillemets ont transformé les nombres en chaînes,
        et donc vous avez concaténé deux chaînes au lieu d'additionner deux nombres. ici, le résultat de la concaténation est '3525'. Et si on entre 35 + 25, on obtient le bon résultat.
    </p>
    <h2>Structures conditionnelles</h2>
    <p>
        Les suructures conditionnelles sont des éléments du code qui permettent de tester si une expression est vraie ou non et d'exécuter des instructions différentes selon le résultat. 
        La structure conditionnelle utilisée la plus fréquemment est <b>if ... else</b>. Par exemple:<br>
        let iceCream = "chocolat";<br>
        if (iceCream === "chocolat") { <br>
            alert("J'adore la glace au chocolat !");<br>
          } else {<br>
            alert("Ooooh, mais j'aurais préféré au chocolat.");<br>
          }<br>
    </p>
    <p>
        L'expression contenue dans <b>if (... )</b> correspond au test - ici, on utilise l'opérateur d'égalité (décrit plus haut) pour comparer la variable <b>iceCream</b> 
        avec la chaîne de caractère <b>chocolat</b> pour voir si elles sont égales. Si cette comparaison renvoie <b>true</b>, le premier bloc de code sera exécuté. 
        Sinon, le premier bloc est sauté et c'est le code du second bloc, celui après <b>else</b>, qui sera exécuté.
    </p>
    <h2>Fonctions</h2>
    <p>
        Les fonctions sont un moyen de compacter des fonctionalitésen vue de leur réutilisation. Quand vous avez besoin de la procédure, vous pouvez appeler une fonction, par son nom, 
        au lieu de ré-écrire la totalité du code à chaque fois. Nous avons déjà utilisé des fonctions plus haut; par exemple:<br>
        let my variable = document.querySelector('h1');<br>
        alert("Bonjour");<br>
    </p>
    <p>
        Ces fonctions (<b>querySelector</b> et <b>alert</b>) sont
        disponibles dans le navigateur et vous pouvez les utiliser où bon vous semble.
    </p>
    <p>
        Si vous voyez quelque chose qui ressemble à un nom de variable et qui est suivit de parenthèses - () -, c'est probablement une fonction.
        Les fonctions prennent souvent des <u>arguments</u> - bouts de données dont elles ont besoin pour faire leur travail. 
        Ils sont placés entre parenthèses, séparés par des virgules s'il y en a plusieurs.
    </p>
    <p>
        Par exemple, la fonction <b>alert()</b> fait apparaître une fenêtre de pop-up dans la fenêtre du navigateur, 
        mais vous devez donner une chaîne comme argument pour indiquer à la fonction ce que l'on souhaite écrire dans cette fenêtre.
    </p>
    <p>
        La bonne nouvelle est que vous pouvez définir vos propres fonctions - pas exemple, vous pouvez écrire une fonction toute simple qui prend deux arguments et les multiplie:
    </p>
    <p>
        function multiply(num1, num2) {<br>
            let result = num1 * num2;<br>
            return result;<br>
        }<br>
    </p>
    <p>
        Vous pouvez déclarer cette fonction dans la console avant de l'utiliser plusieurs fois:<br>
        multiply(4, 7);<br>
        multiply(20, 20);<br>
        muliply(0.5, 3);<br>
    </p>
    <img src="Images/RésultatsMultiplications.jpg" alt="Résultats de multiplication">
    <p class="note">
        L'instruction <b>return</b> indique au navigateur qu'il faut renvoyer le variable <b>result</b> en dehors de la fonction afin qu'elle puisse être réutilisée par ailleurs. 
        Cette instruction est nécessaire car les variables définie à l'intérieur des fonctions sont uniquement disponible à l'intérieur de ces fonctions? C'est ce qu'on appelle une <u>portée</u>
        (pour en savoir plus, lisez <u>cet article</u>).
    </p>
    <h2>Evènements</h2>
    <p>
        Pour qu'un site web soit vraiment interactif, vous aurez besoin d'évènements. Les évènements sont des structures de code qui "écoutent" ce qui se passe dans le navigateur et déclenchent du code en réponse.
        Le meilleir exemple est <u>l'évènement cliquer</u>, déclenché par le navigateur quand vous cliquez sur quelque chose avec la souris. A titre de démonstration, saisissez ces quelques lignes dans la console, puis cliquez sur la page en cours:
    </p>
    <p>
        document.querySelector("html").addEventListener("click",<br>
        function () {<br>
            alert("Aïe, arrêtez de cliquer !!");<br>
          });<br>   
    </p>
    <img src="Images/arrêteDeCliquer.jpg" alt="fenêtre pop-up qui demande d'arrêter de cliquer">
    <p>
        Il existe plein de méthodes pour "attacher" un évènement à un élémeent. Dans cet exemple, nous avons sélectionné l'élément HTML concerné et nous avons défini un gestionnaire <u><b>onclick</b></u>
        qui est une propriété qui est égale à une fonction annonyme (sans nom) qui contient le code à exécuter quand l'utilisateur clique.
    </p>
    <p>On pourra noter que:</p>
    <p>
        document.querySelector("html").addEventListener("click",<br>
        function () {});<br>
    </p>
    <p>est équivalent à:</p>
    <p>
        let myHTML = document.querySelector("html");<br>
        myHTML.addEventListener("click", function () {});<br>
    </p>
    <p>La première synatxe est siplement plus courte.</p>
    <h2>Booster notre site web</h2>
    <p>
        Maintenant que nous avons vu quelques bases en JavaScript, nous allons ajouter quelques fonctionalités intéressantes à notre site pour voir ce qu'il est capable de faire.
    </p>
    <h3>Ajouter un changeur d'image</h3>
    <p>
        Dans cette section, nous allons incorporer une autre image au site en utilisant quelques fonctionalités de l'API DOM et un peu de JavaScript pour alterner entre les deux images lorsqu'on cilque sur l'image affichée.
    </p>
    <ol>
        <li>
            Tout d'abord, trouvez une image à afficher sur le site. Assurez-vousqu'elles soit de même taille que la première, ou le plus possible approchante.
        </li>
        <li>
            Enregistrez cette image dans votre dossier Images.
        </li>
        <li>
            Renommer cette image "firefox2.png" (sans les guillemets). 
        </li>
        <li>
            Dans le fichier <b>main.js</b>, entrez ce code en JavaScript (si votre code "Bonjour, le monde" est toujours là, supprimez-le):
            <p>
                let myImage = document.querySelector("img");<br>
                <br>
                myImage.addEventListener("click", function () {<br>
                let mySrc = myImage.getAttribute("src");<br>
                if (mySrc === "images/firefox-icon.png") {<br>
                    myImage.setAttribute("src", "images/firefox2.png");<br>
                } else {<br>
                    myImage.setAttribute("src", "images/firefox-icon.png");<br>
                }<br>
                });<br>
            </p>
        </li>
        <li>
            Sauvrgardez tous les fichiers puis chargez <b>index.html</b> dans le navigateur. Maintenant, si vous cliquez sur l'image, elle doit changer pour l'autre !
        </li>
    </ol>
    <p>
        Dans cet exemple, nous utilisons une référence vers l'élémeent <u>"img"</u> grâce à la variable <b>myImage</b>.
        Ensuite, nous égalons la propriété du gestionnaire d'évènements <b>onclick</b> de cette variable à une fonction
        sans nom (une fonction annonyme).Maintenant chaque fois que cet élément est cliqué:
    </p>
    <ol>
        <li>
            Nous récupérons la valeur de l'attribut <b>src</b> de l'image.
        </li>
        <li>
            Nous utilisons une structure conditionnelle pour voir si la valeur de <b>src</b> est égale au chemin de l'image originale:
            <ol>
                <li>
                    Si c'est le cas, nous changeons la valeur de src et indiquons le chemin vers la seconde image, forçant le chargement de cette image dans l'élément <u>"img"</u>.
                </li>
                <li>
                    Si ce n'est pas le cas (ce qui signifie que l'image à déjà été changée), la valeur de <b>src</b> revient à sa valeur initiale.
                </li>
            </ol>
        </li>
    </ol>

    </body>
    </html>

    <script src="scripts/main.js"></script>    
</body>

</html>